<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Valentine Games ðŸ’˜</title>
<style>
html, body {
    margin:0;
    padding:0;
    width:100%;
    height:100%;
    font-family: Arial, sans-serif;
    background: linear-gradient(135deg, #ff4e8b, #ff9a9e);
    color:white;
    text-align:center;
    overflow:hidden;
}
h1,h2 {margin:10px 0;}

button {
    font-size:4vw;
    padding:3vw 5vw;
    margin:8px;
    border:none;
    border-radius:25px;
    cursor:pointer;
    transition:0.3s;
}
button:hover {transform:scale(1.05); background:#ff69b4;}

.yes-btn {background:#fff;color:#ff4e8b;}
.no-btn,.maybe-btn {background:#ff2e63;color:white;position:absolute;}

.hidden {display:none !important;}
.confetti {width:10px;height:10px;position:fixed;top:-10px;animation:fall 3s linear infinite;}
@keyframes fall {to {transform:translateY(100vh) rotate(360deg);}}

/* Memory Cards */
#memory-game {width:100vw;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center;}
.memory-grid {display:grid;grid-template-columns:repeat(4,70px);grid-gap:15px;margin-top:20px;}
.card {width:70px;height:70px;background:#fff;color:#ff4e8b;font-size:36px;display:flex;justify-content:center;align-items:center;cursor:pointer;user-select:none;border-radius:12px;}
.card.flipped {background:#ff2e63;color:white;}

/* Balloon Pop */
#balloon-game {width:100vw;height:100vh;position:relative;overflow:hidden;}
.balloon {position:absolute;width:60px;height:80px;background:red;border-radius:50%;cursor:pointer;font-size:2rem;text-align:center;line-height:80px;user-select:none;}

/* Sudoku */
#sudoku-screen {display:flex;flex-direction:column;align-items:center;justify-content:center;width:100vw;height:100vh;}
#sudoku-grid {display:grid;grid-template-columns:repeat(4,50px);grid-gap:5px;margin:20px;}
.sudoku-cell {width:50px;height:50px;background:#fff;color:#000;font-size:24px;display:flex;justify-content:center;align-items:center;cursor:pointer;user-select:none;}
.sudoku-cell.prefilled {background:#ddd;cursor:default;}

/* Valentine Screen */
.container {width:100vw;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center;position:relative;padding:20px;box-sizing:border-box;}
#countdown {font-size:8vw;margin:20px;}
</style>
</head>
<body>

<!-- MEMORY GAME -->
<div id="memory-game">
    <h1>ðŸ§¡ Memory Match ðŸ’˜</h1>
    <p>Match all the hearts to continue!</p>
    <div class="memory-grid" id="memory-grid"></div>
</div>

<!-- BALLOON POP -->
<div id="balloon-game" class="hidden">
    <h1>ðŸŽˆ Balloon Pop ðŸ’˜</h1>
    <p>Pop 10 balloons to continue!</p>
</div>

<!-- SUDOKU -->
<div id="sudoku-screen" class="hidden">
    <h1>ðŸ§© Mini Sudoku ðŸ’˜</h1>
    <p>Fill the grid to continue!</p>
    <div id="sudoku-grid"></div>
    <button onclick="checkSudoku()">Submit</button>
</div>

<!-- FINAL VALENTINE -->
<div class="container hidden" id="final">
    <h1>Will You Be My Valentine? ðŸ’˜</h1>
    <div id="countdown">5</div>
    <button class="yes-btn" onclick="celebrate()">YES ðŸ’–</button>
    <button class="no-btn" id="noBtn">no ðŸ™„</button>
    <button class="maybe-btn" id="maybeBtn">maybe ðŸ¤”</button>
</div>

<!-- CELEBRATION -->
<div class="container hidden" id="celebration">
    <h1>ðŸŽ‰ CONGRATULATIONS ðŸŽ‰</h1>
    <h2>You are now officially stuck with me ðŸ˜ŒðŸ’ž</h2>
    <h2 id="extraMessage" style="margin-top:20px;"></h2>
</div>

<script>
// ================= MEMORY GAME =================
const emojis = ["ðŸ’–","ðŸ’–","ðŸ’Œ","ðŸ’Œ","ðŸ«","ðŸ«","ðŸŒ¹","ðŸŒ¹"];
let firstCard=null, secondCard=null, matches=0;
const memoryGrid = document.getElementById("memory-grid");
function shuffleArray(array){for(let i=array.length-1;i>0;i--){let j=Math.floor(Math.random()*(i+1));[array[i],array[j]]=[array[j],array[i]];} return array;}
function createMemoryGrid(){
    const cards = shuffleArray([...emojis]);
    cards.forEach((emoji,index)=>{
        const card=document.createElement("div");
        card.className="card"; card.dataset.emoji=emoji;
        card.addEventListener("click",()=>flipCard(card));
        memoryGrid.appendChild(card);
    });
}
function flipCard(card){
    if(card.classList.contains("flipped")||secondCard) return;
    card.classList.add("flipped"); card.innerText=card.dataset.emoji;
    if(!firstCard) {firstCard=card; return;}
    secondCard=card;
    if(firstCard.dataset.emoji===secondCard.dataset.emoji){
        firstCard=null; secondCard=null; matches++;
        if(matches===emojis.length/2) setTimeout(startBalloonGame,500);
    } else {setTimeout(()=>{firstCard.innerText="";secondCard.innerText="";firstCard.classList.remove("flipped");secondCard.classList.remove("flipped");firstCard=null;secondCard=null;},800);}
}
createMemoryGrid();

// ================= BALLOON POP =================
let balloonCount=0;
function startBalloonGame(){
    document.getElementById("memory-game").classList.add("hidden");
    const game = document.getElementById("balloon-game");
    game.classList.remove("hidden");
    balloonCount=0;
    for(let i=0;i<10;i++){createBalloon();}
}
function createBalloon(){
    const balloon = document.createElement("div");
    balloon.className="balloon"; balloon.innerText="ðŸŽˆ";
    const x=Math.random()*(window.innerWidth-60);
    const y=window.innerHeight + Math.random()*100;
    balloon.style.left=x+"px"; balloon.style.top=y+"px";
    balloon.style.transition="top 5s linear";
    document.getElementById("balloon-game").appendChild(balloon);
    setTimeout(()=>{balloon.style.top="-100px";},50);
    balloon.addEventListener("click",()=>{
        balloon.remove();
        balloonCount++;
        if(balloonCount>=10) setTimeout(startSudokuGame,300);
    });
}

// ================= SUDOKU 4x4 =================
let sudokuSolution=[[1,2,3,4],[3,4,1,2],[4,1,2,3],[2,3,4,1]];
let prefilled=[[1,0,0,4],[0,4,0,0],[0,0,2,0],[2,0,0,1]];
function startSudokuGame(){
    document.getElementById("balloon-game").classList.add("hidden");
    document.getElementById("sudoku-screen").classList.remove("hidden");
    createSudokuGrid();
}
function createSudokuGrid(){
    const grid=document.getElementById("sudoku-grid"); grid.innerHTML="";
    for(let r=0;r<4;r++){for(let c=0;c<4;c++){
        let cell=document.createElement("div"); cell.className="sudoku-cell";
        if(prefilled[r][c]!==0){cell.classList.add("prefilled"); cell.innerText=prefilled[r][c];}
        else {cell.addEventListener("click",()=>fillCell(cell,r,c));}
        cell.dataset.row=r; cell.dataset.col=c;
        grid.appendChild(cell);
    }}
}
function fillCell(cell,r,c){
    let val=prompt("Enter 1-4:"); val=parseInt(val);
    if(val>=1 && val<=4){cell.innerText=val;}
}
function checkSudoku(){
    const cells=document.querySelectorAll(".sudoku-cell"); let correct=true;
    cells.forEach(cell=>{const r=parseInt(cell.dataset.row); const c=parseInt(cell.dataset.col);
        if(cell.innerText!="") if(parseInt(cell.innerText)!==sudokuSolution[r][c]) correct=false;
    });
    if(correct){alert("Sudoku Complete!"); document.getElementById("sudoku-screen").classList.add("hidden"); document.getElementById("final").classList.remove("hidden"); startCountdown(); moveNoMaybeButtons();}
    else alert("Some numbers are wrong. Try again!");
}

// ================= FINAL VALENTINE =================
let buttonsActive=true; let countdownInterval;
function startCountdown(){let counter=5; const countdown=document.getElementById("countdown");
    countdownInterval=setInterval(()=>{counter--; countdown.innerText=counter; if(counter<=0){clearInterval(countdownInterval); countdown.innerText="Time's up! Click YES ðŸ˜";}},1000);
}
function moveNoMaybeButtons(){const noBtn=document.getElementById("noBtn"); const maybeBtn=document.getElementById("maybeBtn");
    [noBtn,maybeBtn].forEach(btn=>{const dodge=(e)=>{if(!buttonsActive) return; e.preventDefault(); e.stopPropagation();
        const x=Math.random()*(window.innerWidth-btn.offsetWidth); const y=Math.random()*(window.innerHeight-btn.offsetHeight);
        btn.style.left=x+"px"; btn.style.top=y+"px";
    }; btn.addEventListener("pointerdown",dodge);
});}
function celebrate(){buttonsActive=false; document.getElementById("final").classList.add("hidden"); document.getElementById("celebration").classList.remove("hidden");
    for(let i=0;i<100;i++){let c=document.createElement("div"); c.className="confetti"; c.style.background=["#fff","#ff2e63","#ffd700","#00f5d4"][Math.floor(Math.random()*4)]; c.style.left=Math.random()*100+"vw"; document.body.appendChild(c);}
    document.getElementById("extraMessage").innerText="See you tomorrow at 7pm ðŸ’–";
}
</script>
</body>
</html>
